<h3>Chatroom: {{this.api.selectedRoom.name}}</h3>
<div class="chat">
  <div *ngFor="let message of messages" class="message-container">
    <ng-container [ngTemplateOutlet]="message.createdBy === this.username ? userMessage : friendMessage"
                  [ngTemplateOutletContext]="{message: message}">
    </ng-container>
  </div>
  <div class="chat-input" style="bottom: 0">
    <input
      type="text"
      class="form-control"
      id="message-input"
      name="message"
      placeholder="Message ..."
      [(ngModel)]="message"
    />
    <button class="send-button" (click)="sendMessage()" name="message-input" ngDefaultControl [(ngModel)]="message">Send</button>
  </div>
</div>

<ng-template #userMessage let-message='message' class="message-card">
  <div class="message-card">
    <mat-card class="user-message-card">
      {{message.msg}}
      <small>{{message.createdBy}}, {{message.createdAt}}</small>
    </mat-card>
  </div>
</ng-template>

<ng-template #friendMessage let-message='message'>
  <div class="message-card">
    <mat-card class="friend-message-card">
      {{message.msg}}
      <small>{{message.createdBy}}, {{message.createdAt}}</small>
    </mat-card>
  </div>
</ng-template>
